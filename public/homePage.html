<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HomePage</title>
</head>
<body>
    <h1>Available Chat Rooms</h1>
    <div id="rooms"></div>
    <script>
        async function loadRooms(){
            const response = await fetch('/room');
            const rooms = await response.json();
            const roomsDiv = document.getElementById('rooms');
            rooms.forEach(rooms => {
                const roomDiv = document.createElement('div');
                roomDiv.textContent = `Room ${room.id}: ${room.name}`;
                const joinButton = document.createElement('button');
                joinButton.textContent = 'Join';
                joinButton.onclick = () => {
                    window.location.href = `/chat.html?roomId=${room.id}`;
                };
                roomDiv.appendChild(joinButton);
                roomsDiv.appendChild(roomDiv);

                });
        }
        loadRooms();
    </script>
</body>
</html>